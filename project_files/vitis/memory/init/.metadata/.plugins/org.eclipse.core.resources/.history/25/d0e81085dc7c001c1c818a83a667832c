#include <reflowOS/base/memory/basic_memory_manager.hpp>
#include <reflowOS/base/memory/hardware/microblaze/mb_memory_type.hpp>

#include <xparameters.h>

namespace reflowOS::hardware_specific::microblaze {
	class memory_traits
	{
	public:
		typedef size_type		 alloc_size;
		typedef std::uint32_t	 alloc_process;
		typedef std::uint8_t*    alloc_type;
		typedef block_context*   alloc_pointer;
		MEMORY_STATIC(size_type) alloc_unit = block_size;

	public:
		static void			 initialize();
		static void			 shutdown  ();

	public:
		static alloc_pointer allocate     (alloc_process alloc_proc = 1, size_type alloc_count = 1);
		static void		  	 deallocate   (alloc_process, size_type, alloc_pointer);

	public:
		static alloc_size    check_aligned_allocated(alloc_size, alloc_size);
		static alloc_size	 check_aligned_unallocated();
	};
}

