#include <cstdint>
#include <cstddef>

#include <xparameters.h>

#define MEMORY_STATIC(type) constexpr static type

namespace reflowOS {
namespace memory   {

	typedef std::uint32_t size_type;
	typedef std::uint32_t pointer_type;

	MEMORY_STATIC(size_type)    megabyte = 1024 * 1024;
	MEMORY_STATIC(size_type)    kilobyte = 1024;

	MEMORY_STATIC(size_type) 	memory_size = 128 * megabyte;
	MEMORY_STATIC(size_type) 	memory_page = 4   * kilobyte;

	MEMORY_STATIC(size_type)    mman_size 		 	   = memory_page * 32;
	MEMORY_STATIC(size_type)    mman_manage_count	   = 32;

	struct page_entity
	{
		std::uint32_t attached_process;
		std::uint32_t block_id;
	};

	typedef uint8_t     page	 [page_size];
	typedef page_entity page_mman[mman_manage_page_count];
}
}
