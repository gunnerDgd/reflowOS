#include <reflowOS/base/memory/>

#define CONTEXT_STD(type) constexpr static type

namespace reflowOS {
	template <typename ContextTraits>
	class basic_context
	{
	public:
		typedef 		 ContextTraits 				   traits_type;
		typedef typename ContextTraits::context_type   context_type;

		typedef typename ContextTraits::execute_type   execute_type;
		typedef typename ContextTraits::parameter_type parameter_type;

	public:
		template <typename MemoryAllocator>
		basic_context(MemoryAllocator&&, execute_type, parameter_type);
		basic_context();

	private:
		context_type __M_context_pcb;
	};

	template <typename AnyContext>
	struct is_context 							  { CONTEXT_STD(bool) value = false; };

	template <typename AnyContext>
	struct is_context<basic_context<ContextType>> { CONTEXT_STD(bool) value = false; };
}
